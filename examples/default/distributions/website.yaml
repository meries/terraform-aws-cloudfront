---
enabled: true
comment: Website
price_class: PriceClass_100
http_version: http2
default_root_object: "index.html"
ipv6_enabled: true

aliases:
  - www.example.com

# DNS record creation control
# Set to false if you want to manage DNS records manually
# Default: true (Route53 zones are automatically detected based on alias domain names)
create_dns_records: false

# Optional: Specify Route53 hosted zone ID if automatic detection doesn't work
# route53_zone_id: Z1234567890ABC

# Optional: AWS WAF Web ACL ARN (must be WAFv2 and in us-east-1 region)
# web_acl_id: arn:aws:wafv2:us-east-1:123456789012:global/webacl/example/a1234567-b890-c123-d456-e78901234567

certificate:
  acm_certificate_arn: "arn:aws:acm:us-east-1:123:certificate/xxx"

# Origin groups for automatic failover (see examples/multi-environment for usage)
origin_groups: []

origins:
  - id: s3-website
    domain_name: bucket.s3.eu-west-1.amazonaws.com
    type: s3

# Behavior sorting mode: 'auto' (automatic sorting) or 'manual' (keep YAML order)
# Default: auto
behavior_sorting: auto

# Default behavior applies to all requests that don't match ordered behaviors
default_behavior:
  target_origin_id: s3-website
  cache_policy_name: website-cache
  response_headers_policy_name: security-headers

# Ordered behaviors - specific path patterns with custom caching rules
# These take precedence over default_behavior for matching requests
behaviors:
  # API endpoints - minimal caching, forward auth headers
  - path_pattern: "/api/*"
    target_origin_id: s3-website
    cache_policy_name: api-cache
    viewer_protocol_policy: https-only
    allowed_methods: [GET, HEAD, OPTIONS, PUT, POST, PATCH, DELETE]

  # Static assets - aggressive caching
  - path_pattern: "/assets/*"
    target_origin_id: s3-website
    cache_policy_name: website-cache
    response_headers_policy_name: cors-public
    viewer_protocol_policy: redirect-to-https
    compress: true

# Cache invalidation paths (invalidated on every terraform apply)
# Specify which paths to invalidate after deployment
# Cache invalidation paths - automatically invalidates on every terraform apply
# cache_invalidation_paths: ["/index.html", "/api/*", "/assets/*"]

custom_error_responses:
  - error_code: 404
    response_code: 200
    response_page_path: "/index.html"

# CloudFront access logs configuration
logging:
  bucket: my-cloudfront-logs.s3.amazonaws.com
  prefix: "cloudfront/website/"
  include_cookies: false

# Geographic restrictions (example - uncomment if needed)
# geo_restriction:
#   restriction_type: whitelist
#   locations: [US, CA, GB, FR, DE]

# Monitoring configuration (see examples/monitoring-config for detailed usage)
monitoring: []